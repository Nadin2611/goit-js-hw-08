{"mappings":"YAAA,IAAMA,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASC,cAAc,wBACpCE,EAAWH,SAASC,cAAc,2BACpCG,GAAc,EAEZC,EAAeC,EAAEC,UAAS,WAC9B,IAAMC,EAAoB,CACxBC,MAAOP,EAAWQ,MAClBC,QAASR,EAASO,OAEpBE,aAAaC,QACX,sBACAC,KAAKC,UAAUP,G,GAEhB,KAEHT,EAAKiB,iBAAiB,QAASX,GAC/BN,EAAKiB,iBAAiB,UAUtB,SAASC,EAAaC,GACpBA,EAAMC,iBAEDf,IACHgB,QAAQC,IAAIC,GACZlB,GAAc,GAGO,OAAnBkB,GAA8C,OAAnBA,GAC7BV,aAAaW,WAAW,uBAG1BL,EAAMM,cAAcC,QAEpB1B,EAAK2B,oBAAoB,QAASrB,GAClCN,EAAK2B,oBAAoB,SAAUT,E,IAvBrC,IAAMK,EAAiBV,aAAae,QAAQ,uBAE5C,GAAIL,EAAgB,CAClB,IAAMM,EAAoBd,KAAKe,MAAMP,GACrCpB,EAAWQ,MAAQkB,EAAkBnB,MACrCN,EAASO,MAAQkB,EAAkBjB,O","sources":["src/js/03-feedback.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('.feedback-form input');\nconst textarea = document.querySelector('.feedback-form textarea');\nlet isSubmitted = false;\n\nconst onUpdateForm = _.throttle(() => {\n  const feedbackFormState = {\n    email: emailInput.value,\n    message: textarea.value,\n  };\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(feedbackFormState)\n  );\n}, 500);\n\nform.addEventListener('input', onUpdateForm);\nform.addEventListener('submit', onFormSubmit);\n\nconst savedFormState = localStorage.getItem('feedback-form-state');\n\nif (savedFormState) {\n  const feedbackFormState = JSON.parse(savedFormState);\n  emailInput.value = feedbackFormState.email;\n  textarea.value = feedbackFormState.message;\n}\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  if (!isSubmitted) {\n    console.log(savedFormState);\n    isSubmitted = true;\n  }\n\n  if (savedFormState === null || savedFormState === '{}') {\n    localStorage.removeItem('feedback-form-state');\n  }\n\n  event.currentTarget.reset();\n\n  form.removeEventListener('input', onUpdateForm);\n  form.removeEventListener('submit', onFormSubmit);\n}\n"],"names":["$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$emailInput","$b00c40859be242c5$var$textarea","$b00c40859be242c5$var$isSubmitted","$b00c40859be242c5$var$onUpdateForm","_","throttle","feedbackFormState1","email","value","message","localStorage","setItem","JSON","stringify","addEventListener","$b00c40859be242c5$var$onFormSubmit","event","preventDefault","console","log","$b00c40859be242c5$var$savedFormState","removeItem","currentTarget","reset","removeEventListener","getItem","$b00c40859be242c5$var$feedbackFormState","parse"],"version":3,"file":"03-feedback.e670df8e.js.map"}